<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Planeta i Postać</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        #planet-mask {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            clip-path: ellipse(60% 50% at 50% 50%);
            pointer-events: none;
            z-index: 10;
        }
        #planet-container {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }
        #planet-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 300%; /* Zwiększona szerokość dla efektu tiled */
            height: 300%; /* Zwiększona wysokość dla efektu tiled */
            object-fit: cover;
            transition: transform 0.05s linear; /* Szybsza i bardziej płynna transformacja */
        }
    </style>
</head>
<body class="bg-black">
    <div id="planet-container">
        <img 
            id="planet-image" 
            src="1.png" 
            alt="Planeta" 
        />
        <div id="planet-mask"></div>
    </div>
    
    <div class="absolute bottom-12 left-1/2 transform -translate-x-1/2">
        <img 
            id="character-image" 
            src="3.png" 
            alt="Postać" 
            class="w-32 h-32 object-cover"
        />
    </div>

    <script>
        const planetImage = document.getElementById('planet-image');
        const characterImage = document.getElementById('character-image');
        const planetContainer = document.getElementById('planet-container');

        let characterDirection = 1;
        let characterFrame = 3;

        planetContainer.addEventListener('mousemove', (e) => {
            const rect = planetContainer.getBoundingClientRect();
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;

            const mouseX = e.clientX - rect.left;
            const mouseY = e.clientY - rect.top;

            // Szybszy i bardziej dynamiczny ruch planety
            const offsetX = (mouseX - centerX) / centerX * 100;
            const offsetY = (mouseY - centerY) / centerY * 100;

            // Transformacja z efektem tiled
            planetImage.style.transform = `translate(${-offsetX}%, ${-offsetY}%)`;
            
            // Kierunek postaci
            characterDirection = mouseX > centerX ? 1 : -1;
            characterImage.style.transform = `scaleX(${characterDirection})`;

            // Zmiana klatek postaci
            characterFrame = characterFrame === 3 ? 4 : 3;
            characterImage.src = characterFrame === 3 ? '3.png' : '4.png';
        });

        planetContainer.addEventListener('mouseleave', () => {
            planetImage.style.transform = 'translate(0%, 0%)';
        });
    </script>
</body>
</html>
