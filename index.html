<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Room with Model and Text Overlays - 90 Degree Rotation</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.160.0/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/loaders/GLTFLoader.js"></script>
    <style>
        /* Styles remain the same */
    </style>
</head>
<body>
    <!-- Overlay divs remain the same -->
    <script>
        let scene, camera, renderer, room, model, targetPosition, targetRotation;
        const GRID_SIZE = 8;
        const STEP_SIZE = 1;

        function init() {
            // Scene setup remains the same
            // ...

            targetPosition = new THREE.Vector3(0, -2.75, 0);
            targetRotation = 0;

            document.addEventListener('mousemove', onMouseMove);
            animate();
        }

        function onMouseMove(event) {
            const mouseX = Math.round((event.clientX / window.innerWidth - 0.5) * GRID_SIZE * 1.5);
            const mouseY = Math.round((event.clientY / window.innerHeight - 0.5) * GRID_SIZE * 1.5);

            targetPosition.x = mouseX * STEP_SIZE;
            targetPosition.z = mouseY * STEP_SIZE;

            // Randomly decide to rotate 90 degrees
            if (Math.random() < 0.1) { // 10% chance to rotate
                targetRotation = Math.round(Math.random() * 4) * Math.PI / 2; // Random 90 degree increment
            }
        }

        function animate() {
            requestAnimationFrame(animate);

            if (model) {
                model.position.x = targetPosition.x;
                model.position.z = targetPosition.z;

                // Smooth rotation towards target
                const rotationDiff = targetRotation - model.rotation.y;
                model.rotation.y += rotationDiff * 0.1; // Adjust 0.1 for faster/slower rotation

                // Slight tilt based on movement
                if (model.position.z > 0) {
                    model.rotation.x = -Math.PI / 16;
                } else if (model.position.z < 0) {
                    model.rotation.x = Math.PI / 16;
                } else {
                    model.rotation.x = 0;
                }
            }

            renderer.render(scene, camera);
        }

        // Window resize event listener remains the same

        init();
    </script>
</body>
</html>
