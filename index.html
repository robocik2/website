<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Maks Rz</title>
  <style>
    /* Reset i pełnoekranowy układ */
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      width: 100%;
      height: 100%;
    }
    /* Maska elipsy – pokazuje 1.png tylko w obrębie elipsy */
    .mask {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100vw;
      height: 100vh;
      transform: translate(-50%, -50%);
      clip-path: ellipse(25% 25% at 50% 50%);
      overflow: hidden;
    }
    /* Tło z obrazem 1.png – tekstura powtarzalna (tiled) */
    .bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 200%;
      height: 200%;
      background-image: url('1.png');
      background-repeat: repeat;
      background-size: 100vw 100vh;
      background-position: 0px 0px;
    }
    /* Kontener postaci – u dołu */
    .character {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
    }
    .character img {
      width: 150px;
      height: auto;
    }
    /* Kontener nawigacji – pełna szerokość u góry, wycentrowany tekst */
    .nav-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      font-family: "Apple Garamond", serif;
      font-stretch: expanded;
      text-align: center;
      padding: 10px 0;
    }
    /* Przyciski w jednym wierszu */
    .nav-buttons {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    /* Dodajemy przecinek po każdym przycisku poza ostatnim */
    .nav-buttons a:not(:last-child)::after {
      content: ", ";
      font-size: 0.5em;
    }
    .nav-button {
      background: none;
      border: none;
      padding: 5px 10px;
      cursor: pointer;
      text-decoration: none;
      color: #000;
      font-size: 5em;
    }
    /* Rozwijane treści – automatyczne zawijanie tekstu */
    .nav-dropdowns {
      max-width: 100%;
      text-align: center;
      margin-top: 5px;
      word-wrap: break-word;
    }
    /* Ujednolicenie rozmiaru tekstu w liście wrogów */
    .enemies-list li {
      font-size: 2em;
    }
    /* Kontener z tekstem festiwali */
    .awards-text {
      display: none;
      font-size: 2em;
      line-height: 1.2;
      position: relative;
      margin: 20px;
    }
    /* Pseudo-element tworzący wykluczony obszar (elipsa) – tekst opływa ten obszar */
    .awards-text::before {
      content: "";
      float: left;
      width: 50vw;   /* szerokość elipsy – 50% szerokości viewportu */
      height: 50vh;  /* wysokość elipsy – 50% wysokości viewportu */
      /* aby wycentrować pseudo-element: */
      margin-left: calc(50% - 25vw);
      /* Definiujemy kształt elipsy – radiusy odpowiadają połowie szerokości/wysokości */
      shape-outside: ellipse(25vw 25vh at 25vw 25vh);
      /* Dla celów debugowania możesz tymczasowo dodać tło, np.: */
      /* background: rgba(255,0,0,0.2); */
    }
  </style>
</head>
<body>
  <!-- Kontener nawigacji -->
  <div class="nav-container">
    <div class="nav-buttons">
      <!-- Przycisk "maks rz" -->
      <a href="#" class="nav-button" id="maks-button">maks rz</a>
      <!-- Video Button -->
      <a href="https://vimeo.com/maksrz" class="nav-button" target="_blank">video</a>
      <!-- Art Button -->
      <a href="https://instagram.com/robocik.2" class="nav-button" target="_blank">art</a>
      <!-- IG Button -->
      <a href="https://instagram.com/robocik.2" class="nav-button" target="_blank">ig</a>
      <!-- Contact Button -->
      <a href="mailto:maksrzontkowski@gmail.com" class="nav-button">contact</a>
      <!-- List of My Enemies Button with Toggle List -->
      <a href="#" class="nav-button" id="enemies-button">list of my enemies</a>
      <!-- Awards and Festivals Button with Content -->
      <a href="#" class="nav-button" id="awards-button">awards and festivals</a>
    </div>
    <div class="nav-dropdowns">
      <ul class="enemies-list" id="enemies-list" style="display:none;">
        <li>1. damien</li>
      </ul>
      <!-- Kontener z tekstem festiwali – zawijanie odbywa się dzięki ::before -->
      <div class="awards-text" id="awards-text">
        <p>
          *Sundance Film Festival 2024 Official Selection* • 
          *ANNECY International Animation Festival 2024 Official Selection* • 
          *OTTAWA Animation Festival AWARD WINNER* • 
          *SPEKTRUM 2024 GRAND PRIZE* • 
          *New Horizons Festival 2024 Official Selection* • 
          *PICTOPLASMA 2024 Official Selection* • 
          *FEST New Directors 2024 Official Selection* • 
          *Rooftop Films 2024 Official Selection* • 
          *Animator Festival 2024: AWARD WINNER* • 
          *SFP Best Animated Films 2023, AWARD WINNER* • 
          *Kaboom Animation Festival 2024: Special Mention* • 
          *ŻUBROFFKA 2024: AWARD WINNER* • 
          *Salute Your Shorts Festival 2024 Official Selection* • 
          *Fest Anca 2024 Official Selection* • 
          *HELSINKI INTERNATIONAL FILM FESTIVAL* • 
          *TOHORROR 2024 GRAND PRIZE*
        </p>
      </div>
    </div>
  </div>

  <!-- Maska elipsy z tłem -->
  <div class="mask">
    <div class="bg" id="bg"></div>
  </div>
  <!-- Postać na dole strony -->
  <div class="character" id="character">
    <img src="2.png" id="characterImg" alt="Postać">
  </div>

  <script>
    // Przycisk "maks rz" nie zmienia tła
    document.getElementById('enemies-button').addEventListener('click', function(e) {
      e.preventDefault();
      var enemiesList = document.getElementById('enemies-list');
      enemiesList.style.display = (enemiesList.style.display === 'block') ? 'none' : 'block';
    });

    document.getElementById('awards-button').addEventListener('click', function(e) {
      e.preventDefault();
      var awardsText = document.getElementById('awards-text');
      awardsText.style.display = (awardsText.style.display === 'block') ? 'none' : 'block';
    });

    let windowWidth = window.innerWidth;
    let windowHeight = window.innerHeight;

    const bg = document.getElementById('bg');
    let offsetX = 0, offsetY = 0;
    let speedX = 0, speedY = 0;

    const character = document.getElementById('character');
    const characterImg = document.getElementById('characterImg');
    let targetX = windowWidth / 2;
    let currentX = windowWidth / 2;
    let animationInterval = null;
    let isAnimating = false;
    let lastMouseX = windowWidth / 2;
    let lastMouseTime = Date.now();

    document.addEventListener('mousemove', function(e) {
      const mouseX = e.clientX;
      const mouseY = e.clientY;
      const deltaX = (mouseX - windowWidth / 2) / (windowWidth / 2);
      const deltaY = (mouseY - windowHeight / 2) / (windowHeight / 2);
      const maxSpeed = 20;
      speedX = deltaX * maxSpeed;
      speedY = deltaY * maxSpeed;
      
      targetX = mouseX;
      lastMouseX = mouseX;
      lastMouseTime = Date.now();
      if (!isAnimating) {
        startCharacterAnimation();
      }
    });

    function animateBackground() {
      offsetX += speedX;
      offsetY += speedY;
      bg.style.backgroundPosition = offsetX + 'px ' + offsetY + 'px';
      requestAnimationFrame(animateBackground);
    }
    requestAnimationFrame(animateBackground);

    function animateCharacter() {
      currentX += (targetX - currentX) * 0.1;
      character.style.left = currentX + 'px';
      requestAnimationFrame(animateCharacter);
    }
    requestAnimationFrame(animateCharacter);

    function startCharacterAnimation() {
      isAnimating = true;
      let toggle = false;
      animationInterval = setInterval(() => {
        toggle = !toggle;
        characterImg.src = toggle ? '3.png' : '4.png';
        if (Date.now() - lastMouseTime > 200) {
          stopCharacterAnimation();
        }
      }, 70);
    }

    function stopCharacterAnimation() {
      clearInterval(animationInterval);
      animationInterval = null;
      isAnimating = false;
      characterImg.src = '2.png';
    }

    window.addEventListener('resize', function() {
      windowWidth = window.innerWidth;
      windowHeight = window.innerHeight;
    });
  </script>
</body>
</html>
